(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(e,t,a){e.exports=a(236)},236:function(e,t,a){"use strict";a.r(t);var n=a(240),r=a(241),s=a(239),o=a(95),c=a.n(o),i=a(121),l=a(22),u=a(12),p=a(13),d=a(15),m=a(14),f=a(16),h=a(37),b=a(40),g=a(0),E=a.n(g),v=a(7),y=a.n(v);function k(){var e=localStorage.getItem("user");return e?{Authorization:"Token "+e}:{}}var O=a(18),j=a.n(O),S="fetch_tasks",_="fetch_users",N="fetch_order",w="change_order",I="delete_user_task",T="add_task",R="change_user_tasks",x="get_id",C="done_task",U="https://kruczym.pythonanywhere.com/api/",L={headers:k()},D=function(){var e=j.a.get("".concat(U,"tasks/"),L);return{type:S,payload:e}},A=function(){var e=j.a.get("".concat(U,"users/all/"),L);return{type:_,payload:e}},G=a(8),F=a(38);function P(){var e=Object(h.a)(["\n  border: 1px solid lightgrey;\n  border-radius: 2px;\n  padding: 8px;\n  white-space: nowrap;\n  margin-bottom: 8px;\n  background-color: ",";\n"]);return P=function(){return e},e}var K=F.a.div(P(),function(e){return e.isDragDisabled?"lightgrey":e.isDragging?"lightgreen":"white"}),M=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return E.a.createElement(b.b,{draggableId:this.props.task.content,index:this.props.index,isDragDisabled:"done"===this.props.column},function(t,a){return E.a.createElement(K,Object.assign({},t.draggableProps,t.dragHandleProps,{ref:t.innerRef,isDragging:a.isDragging,"aria-roledescription":"Press space bar to lift the task",className:"dropdown"}),e.props.task.content,E.a.createElement("button",{className:"btn btn-link dropdown-toggle",type:"button","data-toggle":"dropdown"}),E.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton",name:e.props.task.content}),E.a.createElement("button",{type:"button",className:"close","aria-label":"Close",onClick:function(t){e.props.deleteTask(e.props.task.id,t)}},E.a.createElement("span",{"aria-hidden":"true"},"\xd7")))})}}]),t}(g.Component),B=Object(G.b)(null,{deleteTask:function(e){var t=j.a.delete("".concat(U,"tasks/").concat(e,"/"),L);return{type:I,payload:t}},fetchList:D})(M);function z(){var e=Object(h.a)(["\n  padding: 8px;\n  transition: background-color 0.2s ease;\n  background-color: ",";\n  flex-grow: 1;\n  min-height: 100px;\n"]);return z=function(){return e},e}function Q(){var e=Object(h.a)(["\n  padding: 8px;\n  color: white;\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  text-transform: ",";\n  text-align: center;\n"]);return Q=function(){return e},e}function H(){var e=Object(h.a)(["\n  margin: 8px;\n  border: 1px solid lightgrey;\n  border-radious: 2px;\n  min-width: 220px;\n\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n"]);return H=function(){return e},e}var Y=F.a.div(H()),Z=F.a.h3(Q(),function(e){return"done"===e.column?"green":""},function(e){return"done"===e.column?"50px":""},function(e){return"done"===e.column?"bold":""},function(e){return"done"===e.column?"uppercase":""}),$=F.a.div(z(),function(e){return e.isDraggingOver?"skyblue":"white"}),q=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e.tasks!==this.props.tasks}},{key:"render",value:function(){var e=this;return this.props.tasks.map(function(t,a){return E.a.createElement(B,{key:t.id,task:t,index:a,column:e.props.column})})}}]),t}(g.Component),J=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return E.a.createElement(b.b,{draggableId:this.props.column.username,index:this.props.index},function(t){return E.a.createElement(Y,Object.assign({},t.draggableProps,{ref:t.innerRef}),E.a.createElement(Z,Object.assign({column:e.props.column.title},t.dragHandleProps),e.props.column.username),E.a.createElement(b.c,{droppableId:e.props.column.id,type:"task",isCombineEnabled:"done"!==e.props.column.username},function(t,a){return E.a.createElement($,Object.assign({ref:t.innerRef},t.droppableProps,{isDraggingOver:a.isDraggingOver}),E.a.createElement(q,{tasks:e.props.tasks,column:e.props.column.username}),t.placeholder)}))})}}]),t}(g.Component),W=a(42),V=a(60),X=a(59),ee=function(e){var t=e.meta,a=t.touched,n=t.error,r="form-group ".concat(a&&n?"has-danger":"");return E.a.createElement("div",{className:r},E.a.createElement("label",{className:"labelTask"},e.label),E.a.createElement("input",Object.assign({type:"text",className:"form-control"},e.input)),E.a.createElement("div",{className:"text-help"},a?n:""))},te=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchList()}},{key:"onSubmit",value:function(e){Object.values(this.props.tasks).forEach(function(t){if(t.content===e.task){var a=document.getElementsByClassName("text-help")[0];return a.style.color="red",void(a.textContent="task must be unique")}}),"red"!==document.getElementsByClassName("text-help")[0].style.color&&(this.props.addTask(e),this.props.fetchUser(),this.props.dispatch(Object(W.a)("TaskNewForm")))}},{key:"render",value:function(){var e=this.props.handleSubmit;return E.a.createElement("div",{className:"col-sm-4"},E.a.createElement("form",{onSubmit:e(this.onSubmit.bind(this))},E.a.createElement(V.a,{label:"Add Task",name:"task",component:ee}),E.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Add Task")))}}]),t}(g.Component);var ae=Object(X.a)({validate:function(e){var t={};return t.task=e.task?null:"Enter a task",t},form:"TaskNewForm"})(Object(G.b)(function(e){return{tasks:e.tasks}},{addTask:function(e){var t=j.a.post("".concat(U,"tasks/"),{user:localStorage.getItem("userId"),content:e.task,is_done:!1},L);return{type:T,payload:t}},fetchUser:A,fetchList:D})(te)),ne="fetch_list_start",re="fetch_list_success",se="fetch_list_error",oe="add_task_start",ce="add_task_success",ie="add_task_error",le="add_task_done_start",ue="add_task_done_success",pe="add_task_done_error",de="delete_task_start",me="delete_task_success",fe="delete_task_error",he="https://my-json-server.typicode.com/KruczyM/Angular-project/tasks",be={REGISTER_REQUEST:"USERS_REGISTER_REQUEST",REGISTER_SUCCESS:"USERS_REGISTER_SUCCESS",REGISTER_FAILURE:"USERS_REGISTER_FAILURE",LOGIN_REQUEST:"USERS_LOGIN_REQUEST",LOGIN_SUCCESS:"USERS_LOGIN_SUCCESS",LOGIN_FAILURE:"USERS_LOGIN_FAILURE",LOGOUT:"USERS_LOGOUT"},ge={SUCCESS:"ALERT_SUCCESS",ERROR:"ALERT_ERROR",CLEAR:"ALERT_CLEAR"},Ee={success:function(e){return{type:ge.SUCCESS,message:e}},error:function(e){return{type:ge.ERROR,message:e}},clear:function(){return{type:ge.CLEAR}}};var ve=a(131),ye=a.n(ve)()();function ke(){var e=Object(h.a)(["\n  display: flex;\n  overflow: visible;\n"]);return ke=function(){return e},e}var Oe=F.a.div(ke()),je=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e.column!==this.props.column||e.taskMap!==this.props.taskMap||e.index!==this.props.index}},{key:"render",value:function(){var e,t=this.props,a=t.column,n=t.taskMap,r=t.index;return e=(e="done"!==a.title?a.taskIds.map(function(e){return!1===n[e].is_done?n[e]:null}):y.a.map(n,function(e){return!0===e.is_done?e:null})).filter(Boolean),E.a.createElement(J,{column:a,tasks:e,index:r})}}]),t}(g.Component),Se=function(e,t,a){var n=[e[a].user,e[t].user];e[t].user=n[0],e[a].user=n[1]},_e=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).setDoneInLastPosition=function(){var e=y.a.mapKeys(a.props.columns,"username").done.id,t=y.a.mapKeys(a.props.columnOrder,"user")[e].id;t!==a.props.columnOrder.length&&Se(a.props.columnOrder,a.props.columnOrder.length,t)},a.onDragStart=function(e,t){t.announce("You have lifted the task in position ".concat(e.source.index+1));var n=a.props.columnOrder.indexOf(e.source.droppableId);a.setState({homeIndex:n})},a.onDragUpdate=function(e,t){var a=e.destination?"You have moved the task to position ".concat(e.destination.index+1):"You are currently not over a droppable area";t.announce(a)},a.onDragEnd=function(e,t){var n=e.destination?"You have moved the task from position\n      ".concat(e.source.index+1," to ").concat(e.destination.index+1):"The task has been returned to its starting position of\n      ".concat(e.source.index+1);t.announce(n),a.setState({homeIndex:null});var r=e.destination,s=e.source,o=e.draggableId,c=e.type,i=e.combine;if(i){y.a.mapKeys(a.props.tasks,"content")[o].id,y.a.mapKeys(a.props.tasks,"content")[i.draggableId].id;var u=document.getElementsByName(i.draggableId)[0],p=document.createElement("a");return p.className="dropdown-item",p.href="#",p.text=o,void u.appendChild(p)}if(r&&(r.droppableId!==s.draggableId||r.index!==s.index)){if("column"===c){if(r.index===a.props.columnOrder.length)return;var d=a.props.columnOrder;return Se(d,s.index,r.index),void a.props.changeOrder(d)}if("done"===a.props.columns[r.droppableId].username){var m=a.props.columns[s.droppableId],f=Array.from(m.taskIds);f.splice(s.index,1);var h=Object(l.a)({},m,{taskIds:f}),b=y.a.mapKeys(a.props.tasks,"content");return a.props.doneTask(b[o].id),void a.props.changeUserTasks(h)}var g=a.props.columns[s.droppableId],E=a.props.columns[r.droppableId];if(g!==E){var v=Array.from(g.taskIds);v.splice(s.index,1);var k=Object(l.a)({},g,{taskIds:v}),O=Array.from(E.taskIds),j=y.a.mapKeys(a.props.tasks,"content");O.splice(r.index,0,j[o].id);var S=Object(l.a)({},E,{taskIds:O});a.props.changeUserTasks(k),a.props.changeUserTasks(S)}else{var _=y.a.mapKeys(a.props.tasks,"content"),N=Array.from(g.taskIds);N.splice(s.index,1),N.splice(r.index,0,_[o].id);var w=Object(l.a)({},g,{taskIds:N});a.props.changeUserTasks(w)}}},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.fetchList();case 2:return e.next=4,this.props.fetchUser();case 4:return e.next=6,this.props.fetchOrder();case 6:return e.next=8,this.props.getLogedUser();case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderContent",value:function(){var e=this;return y.a.map(this.props.columnOrder,function(t,a){var n=e.props.columns[t.user],r=y.a.mapKeys(n.taskIds.map(function(t){return e.props.tasks[t]}),"id");return E.a.createElement("div",null,E.a.createElement(je,{key:n.id,index:a,column:n,taskMap:"done"===n.title?e.props.tasks:r}))})}},{key:"render",value:function(){var e=this;return E.a.createElement("div",null,E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col"},E.a.createElement("a",{href:"#",className:"btn btn-info btn-lg",onClick:function(t){return e.props.logout()}},E.a.createElement("span",{className:"glyphicon glyphicon-log-out"})," Log out"))),E.a.createElement("div",null,E.a.createElement(b.a,{onDragStart:this.onDragStart,onDragUpdate:this.onDragUpdate,onDragEnd:this.onDragEnd},E.a.createElement(b.c,{droppableId:"all-columns",direction:"horizontal",type:"column"},function(t){return E.a.createElement(Oe,Object.assign({},t.droppableProps,{ref:t.innerRef}),e.renderContent(),t.placeholder)}))),E.a.createElement(ae,null))}}]),t}(g.Component),Ne=Object(G.b)(function(e){return{columns:e.users,tasks:e.tasks,columnOrder:e.userOrder}},{fetchList:D,fetchOrder:function(){var e=j.a.get("".concat(U,"user_order/"),L);return{type:N,payload:e}},fetchUser:A,changeOrder:function(e){var t=j.a.post("".concat(U,"user_order/"),e,L);return{type:w,payload:t}},changeUserTasks:function(e){var t=j.a.put("".concat(U,"users/").concat(e.id,"/"),{taskIds:e.taskIds},L);return{type:R,payload:t}},getLogedUser:function(){var e=j.a.get("".concat(U,"users/id/"),L);return{type:x,payload:e}},logout:function(){return localStorage.removeItem("user"),{type:be.LOGOUT}},doneTask:function(e){var t=j.a.put("".concat(U,"tasks/").concat(e,"/isdone/"),L);return{type:C,payload:t}}})(_e),we=a(237),Ie=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){a.props.login(e)},a.renderField=function(e){var t=e.meta,a=t.touched,n=t.error,r="".concat(a&&n?"has-danger":"");return E.a.createElement("div",{className:r},E.a.createElement("label",{className:"text-white"},e.label),E.a.createElement("input",Object.assign({type:e.type,id:e.label.toLowerCase()},e.input)),E.a.createElement("div",{className:"text-help"},a?n:""))},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("user")&&ye.push("/ToDoList")}},{key:"render",value:function(){var e=this.props.handleSubmit;return E.a.createElement("div",{className:"container"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-md-12"},E.a.createElement("div",{className:"wrap"},E.a.createElement("p",{className:"error"},!1===this.props.loginCallBack.loging?"Wrong login data":null),E.a.createElement("p",{className:"form-title"},"Sign In"),E.a.createElement("form",{onSubmit:e(this.onSubmit.bind(this)),className:"login"},E.a.createElement(V.a,{name:"username",type:"text",component:this.renderField,label:"UserName"}),E.a.createElement(V.a,{name:"password",type:"password",component:this.renderField,label:"Password"}),E.a.createElement("input",{type:"submit",className:"btn btn-success btn-sm",value:"Sign In"}),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:" col-sm-offset-8 col-sm-4"},E.a.createElement(we.a,{to:"/register"},"Register"))))))),E.a.createElement("div",{style:{display:"block",position:"absolute",right:"10vw",top:"80vh"}},E.a.createElement("button",{className:"btn btn-success btn-sm",onClick:function(){return ye.push("/ToDoList2")}},"Old version Todo")))}}]),t}(g.Component),Te=Object(X.a)({validate:function(e){var t={};return t.username=e.username?null:"Enter your username",t.password=e.password?null:"Enter your password",t},form:"LoginForm"})(Object(G.b)(function(e){return{loginCallBack:e.login}},{login:function(e){return function(t){t(function(e){return{type:be.LOGIN_REQUEST,payload:e}}({user:e})),j.a.post("https://kruczym.pythonanywhere.com/auth/",e).then(function(e){e.data.token&&localStorage.setItem("user",e.data.token),t(function(e){return{type:be.LOGIN_SUCCESS,payload:e}}(e)),ye.push("/ToDoList")},function(e){t(function(e){return{type:be.LOGIN_FAILURE,payload:e}}(e.response)),t(Ee.error(e.response))})}}})(Ie)),Re=function(e){return{type:e}},xe=function(e,t){return{type:e,payload:t}},Ce=function(e,t){return{type:e,payload:t}},Ue=function(){return function(e){return e(Re(ne)),j.a.get("".concat(he)).then(function(t){return e(xe(re,t.data)),t}).catch(function(t){return e(Ce(se,t)),t})}},Le=function(e){return function(t){return t(Re(de)),j.a.delete("".concat(he,"/").concat(e._id.$oid)).then(function(e){return t(xe(me,e.data)),e}).catch(function(e){return t(Ce(fe,e)),e})}},De=function(e){var t=e.meta,a=t.touched,n=t.error,r="form-group ".concat(a&&n?"has-danger":"");return E.a.createElement("div",{className:r},E.a.createElement("label",null,e.label),E.a.createElement("input",Object.assign({type:"text",className:"form-control"},e.input)),E.a.createElement("div",{className:"text-help"},a?n:""))},Ae=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"onSubmit",value:function(e){var t={name:e.task,isDone:!1,created:(new Date).toLocaleString()};this.props.addTask(t),this.props.dispatch(Object(W.a)("TaskNewForm"))}},{key:"render",value:function(){var e=this.props.handleSubmit;return E.a.createElement("div",{className:"col-sm-4"},E.a.createElement("form",{onSubmit:e(this.onSubmit.bind(this))},E.a.createElement(V.a,{label:"Add Task",name:"task",component:De}),E.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Add Task")))}}]),t}(g.Component);var Ge=Object(X.a)({validate:function(e){var t={};return t.task=e.task?null:"Enter a task",t},form:"TaskNewForm"})(Object(G.b)(function(e){return{listOfTasks:e.listOfTasks}},{addTask:function(e){return function(t){return t(Re(oe)),j.a.post("".concat(he),e).then(function(e){return t(xe(ce,e.data)),e}).catch(function(e){return t(Ce(ie,e)),e})}}})(Ae)),Fe=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchList()}},{key:"renderPosts",value:function(){var e=this;return y.a.map(this.props.listOfTasks,function(t){if(!0===t.isDone)return E.a.createElement("li",{className:"list-group-item",key:t._id.$oid},t.name,E.a.createElement("span",{className:"pull-xs-right"},E.a.createElement("button",{className:"btn btn-danger btn-sm delete",onClick:function(){return e.props.deleteTask(t)}},"Usun")))})}},{key:"render",value:function(){return E.a.createElement("div",{className:"col-sm-4"},E.a.createElement("h3",null,"Done"),E.a.createElement("ul",{className:"list-group"},this.renderPosts()))}}]),t}(g.Component);var Pe=Object(G.b)(function(e){return{listOfTasks:e.listOfTasks}},{fetchList:Ue,deleteTask:Le})(Fe),Ke=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchList()}},{key:"addToDoneHelper",value:function(e){var t=e;t.isDone=!0,t.end=(new Date).toLocaleString(),this.props.addToDone(this.props.listOfTasks,t)}},{key:"renderPosts",value:function(){var e=this;return y.a.map(this.props.listOfTasks,function(t){if(!1===t.isDone)return E.a.createElement("li",{className:"list-group-item",key:t._id.$oid},t.name,E.a.createElement("span",{className:"pull-xs-right"},E.a.createElement("button",{className:"btn btn-success btn-sm add",onClick:function(){return e.addToDoneHelper(t)}},"Zrobione"),E.a.createElement("button",{className:"btn btn-danger btn-sm delete",onClick:function(){return e.props.deleteTask(t)}},"Usun")))})}},{key:"render",value:function(){return E.a.createElement("div",{className:"col-sm-4"},E.a.createElement("h3",null,"ToDo"),E.a.createElement("ul",{className:"list-group"},this.renderPosts()))}}]),t}(g.Component);var Me=Object(G.b)(function(e){return{listOfTasks:e.listOfTasks}},{fetchList:Ue,addToDone:function(e,t){return function(t){return t(Re(le)),j.a.put("".concat(he),Object.values(e)).then(function(e){return t(xe(ue,e.data)),e}).catch(function(e){return t(Ce(pe,e)),e})}},deleteTask:Le})(Ke),Be=a(134),ze=a(238),Qe=a(73),He=a.n(Qe),Ye=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){a.props.register(e)},a.renderField=function(e){var t=e.meta,a=t.touched,n=t.error,r="".concat(a&&n?"has-danger":"");return E.a.createElement("div",{className:r},E.a.createElement("label",{className:"text-white"},e.label),E.a.createElement("input",Object.assign({type:e.type,id:e.label.toLowerCase()},e.input)),E.a.createElement("div",{className:"text-help"},a?n:""))},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("user")&&ye.push("/ToDoList")}},{key:"render",value:function(){var e=this.props.handleSubmit;return E.a.createElement("div",{className:"container"},E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-md-12"},E.a.createElement("div",{className:"wrap"},E.a.createElement("p",{className:"error"},this.props.registerCallBack.username),E.a.createElement("p",{className:"form-title"},"Register"),E.a.createElement("form",{onSubmit:e(this.onSubmit.bind(this)),className:"login"},E.a.createElement(V.a,{name:"username",type:"text",component:this.renderField,label:"UserName"}),E.a.createElement(V.a,{name:"email",type:"email",component:this.renderField,label:"Email"}),E.a.createElement(V.a,{name:"password",type:"password",component:this.renderField,label:"Password"}),E.a.createElement(V.a,{name:"repeatPassword",type:"password",component:this.renderField,label:"Repeat Password"}),E.a.createElement("input",{type:"submit",className:"btn btn-success btn-sm",value:"Register"}),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:" col-sm-offset-8 col-sm-4"},E.a.createElement(we.a,{to:"login"},"Sign In"))))))))}}]),t}(g.Component),Ze=Object(X.a)({validate:function(e){var t={};return t.username=e.username?null:"Enter your username",t.password=e.password?null:"Enter your password",t.email=e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)?"Invalid email address":void 0,t.repeatPassword=e.repeatPassword?null:"Enter your password second time",t.repeatPassword=e.repeatPassword!==e.password?"Password must be the same":null,t},form:"RegisterForm"})(Object(G.b)(function(e){return{registerCallBack:e.registration}},{register:function(e){return function(t){t(function(e){return{type:be.REGISTER_REQUEST,payload:e}}(e)),j.a.post("https://kruczym.pythonanywhere.com/api/users/",e).then(function(e){t(function(e){return{type:be.REGISTER_SUCCESS,payload:e}}()),ye.push("/login"),t(Ee.success("Registration successful"))},function(e){t(function(e){return{type:be.REGISTER_FAILURE,payload:e}}(e.response)),t(Ee.error(e.response))})}}})(Ye)),$e=a(5),qe=a(27),Je=a(83);var We=Object($e.c)({listOfTasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return y.a.mapKeys(t.payload,"name");case ue:return Object(l.a)({},e,Object(qe.a)({},t.payload.name,t.payload));case me:return y.a.omit(e,t.payload.name);case ce:return Object(l.a)({},e,Object(qe.a)({},t.payload.name,t.payload));default:return e}},form:Je.a,registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be.REGISTER_REQUEST:return{registering:!0};case be.REGISTER_SUCCESS:return{};case be.REGISTER_FAILURE:return{username:t.type};default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case be.LOGIN_REQUEST:return{loging:!0};case be.LOGIN_SUCCESS:return{};case be.LOGIN_FAILURE:return{loging:!1};default:return e}},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return y.a.mapKeys(t.payload.data,"id");case T:return Object(l.a)({},e,Object(qe.a)({},t.payload.data.id,t.payload.data));case C:return t.payload.data?Object(l.a)({},e,Object(qe.a)({},t.payload.data.id,t.payload.data)):e;default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:var a=y.a.map(t.payload.data,function(e){return e.title=e.username,e});return y.a.mapKeys(a,"id");case R:return t.payload.data?Object(l.a)({},e,Object(qe.a)({},t.payload.data.id,t.payload.data)):e;case x:return localStorage.setItem("userId",t.payload.data),e;case I:var n=t.payload.data.split(" "),r=e[n[1]];return r.taskIds=r.taskIds.filter(function(e){return e!=n[0]}),Object(l.a)({},e,Object(qe.a)({},n[1],r));default:return e}},userOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:case w:return t.payload.data;default:return e}}}),Ve=a(132),Xe=a.n(Ve),et=a(133);He.a.render(E.a.createElement(function(e){var t=e.children,a=e.initialState,n=void 0===a?{}:a,r=Object($e.e)(We,n,Object($e.a)(Xe.a,et.a));return E.a.createElement(G.a,{store:r},t)},null,E.a.createElement(n.a,{history:ye},E.a.createElement("div",null,E.a.createElement(r.a,null,E.a.createElement(function(e){var t=e.component,a=Object(Be.a)(e,["component"]);return E.a.createElement(s.a,Object.assign({},a,{render:function(e){return localStorage.getItem("user")?E.a.createElement(t,e):E.a.createElement(ze.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},{exact:!0,path:"/ToDoList",component:Ne}),E.a.createElement(s.a,{path:"/ToDoList2",component:function(){return document.body.style.background="white",E.a.createElement("div",null,E.a.createElement("div",null,E.a.createElement("a",{className:"btn btn-info btn-lg",onClick:function(){document.body.style.background="url('http://farm3.staticflickr.com/2832/12303719364_c25cecdc28_b.jpg')",document.body.style.backgroundSize="cover",ye.push("/Login")}},E.a.createElement("span",{className:"glyphicon glyphicon-log-out"})," Back")),E.a.createElement(Me,null),E.a.createElement(Ge,null),E.a.createElement(Pe,null))}}),E.a.createElement(s.a,{path:"/login",component:Te}),E.a.createElement(s.a,{path:"/register",component:Ze}),E.a.createElement(s.a,{path:"/",component:Te}))))),document.querySelector("#root"))}},[[161,2,1]]]);
//# sourceMappingURL=main.a7264aec.chunk.js.map